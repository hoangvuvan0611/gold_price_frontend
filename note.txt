port dev: 3000
port prod: 4001


const options: Highcharts.Options = {
  rangeSelector: { selected: 4 },
  xAxis: {
    dateTimeLabelFormats: {
      millisecond: "%H:%M:%S.%L",
      second: "%H:%M:%S",
      minute: "%H:%M",
      hour: "%H:%M %d/%m",
      day: "%d/%m",
      week: "%d/%m/%Y",
      month: "%m/%Y",
      year: "%Y",
    },
  },
  yAxis: {
    labels: {
      formatter: function () {
        return this.value + "";
      },
    },
    plotLines: [{ value: 0, width: 2, color: "silver" }],
  },
  plotOptions: {
    series: { showInNavigator: true },
    line: { dataLabels: { enabled: true } },
  },
  title: {
    text:
      "Biểu đồ giá vàng SJC 1 năm - <small>từ ngày 07/09/2024 đến ngày 07/09/2025</small> (đơn vị triệu đồng / lượng)",
  },
  subtitle: {
    text:
      "<br><strong style='color:#008000'>–––</strong> SJC bán ra <strong style='color:#ff0000; padding-left:20px'>–––</strong> SJC mua vào",
    useHTML: true,
  },
  tooltip: {
    pointFormat:
      "<span style='color:{series.color}'>{series.name}</span>: <b>{point.y}</b><br/>",
    valueDecimals: 2,
    dateTimeLabelFormats: {
      millisecond: "%H:%M:%S.%L",
      second: "%H:%M:%S",
      minute: "%H:%M %d/%m",
      hour: "%H:%M %d/%m",
      day: "%d/%m",
      week: "%d/%m",
      month: "%m/%Y",
      year: "%Y",
    },
    split: true,
  },
  colors: [
    "green",
    "red",
    "#90ed7d",
    "#f7a35c",
    "#8085e9",
    "#f15c80",
    "#e4d354",
    "#2b908f",
    "#f45b5b",
    "#91e8e1",
  ],
  series: seriesOptions,
};



const seriesOptions = [
  {
    name: "Bán ra",
    data: [
      [1725901200000,80.5],[1725987600000,80.5],[1726074000000,80.5],[1726160400000,80.5],[1726246800000,80.5],[1726506000000,80.5],[1726592400000,82],[1726765200000,81.8],[1726851600000,82],[1726938000000,82],[1727110800000,82],[1727197200000,83.5],[1727283600000,83.5],[1727370000000,83.5],[1727456400000,83.5],[1727802000000,84],[1727888400000,84],[1727974800000,84],[1728061200000,84],[1728406800000,85],[1728493200000,85],[1728579600000,84.5],[1728666000000,84.5],[1728752400000,84.5],[1728838800000,84.5],[1728925200000,85],[1729011600000,85],[1729098000000,86],[1729184400000,86],[1729270800000,86],[1729357200000,86],[1729530000000,88],[1729616400000,89],[1729702800000,89],[1729789200000,89],[1729875600000,89],[1729962000000,89],[1730048400000,89],[1730134800000,89],[1730221200000,89],[1730307600000,89],[1730394000000,90],[1730480400000,89.5],[1730739600000,89],[1730826000000,89],[1730912400000,89],[1730998800000,87.5],[1731085200000,86.5],[1731171600000,85.8],[1731344400000,85.5],[1731430800000,84.1],[1731517200000,84],[1731603600000,83.5],[1731690000000,83.5],[1731776400000,83.5],[1731949200000,83.8],[1732035600000,84.7],[1732122000000,85.7],[1732208400000,86.2],[1732294800000,86.5],[1732381200000,87],[1732554000000,87],[1732640400000,85.3],[1732726800000,85.3],[1732813200000,85.5],[1732899600000,85.6],[1732986000000,85.8],[1733072400000,85.8],[1733158800000,85.3],[1733245200000,85.3],[1733331600000,85.5],[1733504400000,84.8],[1733763600000,85.2],[1733850000000,85.6],[1733936400000,87.1],[1734022800000,87.3],[1734109200000,86.4],[1734195600000,86.3],[1734368400000,85.1],[1734541200000,85.1],[1734627600000,83.9],[1734714000000,84.1],[1734800400000,83.8],[1734973200000,84.3],[1735059600000,84.3],[1735232400000,84.5],[1735318800000,84.7],[1735578000000,84.5],[1735664400000,84.5],[1735837200000,84.8],[1735923600000,85.5],[1736182800000,85],[1736269200000,85.3],[1736355600000,85.5],[1736442000000,86],[1736528400000,86.2],[1736614800000,86.8],[1736787600000,86.6],[1736874000000,86.4],[1736960400000,86.6],[1737046800000,87],[1737133200000,87.3],[1737219600000,86.9],[1737392400000,86.7],[1737478800000,87],[1737565200000,88],[1737651600000,88.4],[1737738000000,88.5],[1737824400000,88.8],[1738429200000,88.8],[1738602000000,88.8],[1738688400000,90.3],[1738774800000,91],[1738861200000,91.2],[1738947600000,90],[1739206800000,90.3],[1739293200000,92.8],[1739379600000,90.2],[1739466000000,90.4],[1739552400000,91.3],[1739638800000,90.3],[1739811600000,90.3],[1739898000000,90.8],[1739984400000,91.7],[1740070800000,92.1],[1740157200000,92],[1740243600000,91.7],[1740416400000,91.5],[1740502800000,92.3],[1740589200000,91.7],[1740675600000,91.5],[1740762000000,90.9],[1740848400000,90.3],[1741021200000,91],[1741107600000,91.6],[1741280400000,93],[1741366800000,92.9],[1741453200000,92.9],[1741626000000,93.1],[1741712400000,92.6],[1741798800000,93.3],[1741885200000,94.2],[1741971600000,95.6],[1742230800000,96.1],[1742317200000,96.9],[1742403600000,98.6],[1742490000000,100.4],[1742576400000,97.7],[1742662800000,97.7],[1742749200000,97.4],[1742835600000,97.4],[1742922000000,97.4],[1743008400000,98.2],[1743094800000,98.4],[1743181200000,99.9],[1743267600000,100.7],[1743440400000,100.7],[1743526800000,102.1],[1743613200000,101.8],[1743699600000,102.5],[1743786000000,101.9],[1743872400000,100.1],[1744131600000,99.5],[1744218000000,99.6],[1744304400000,103.4],[1744390800000,106.4],[1744477200000,105.9],[1744650000000,107],[1744736400000,107.7],[1744822800000,109.8],[1744909200000,118],[1744995600000,120],[1745082000000,120],[1745254800000,114],[1745341200000,121],[1745427600000,124],[1745514000000,121.5],[1745600400000,121.5],[1745686800000,120.5],[1745859600000,120.5],[1745946000000,120.8],[1746118800000,121.3],[1746205200000,121.3],[1746464400000,119.8],[1746550800000,122.8],[1746637200000,122.2],[1746723600000,122.7],[1746810000000,120],[1746896400000,122],[1747069200000,121],[1747155600000,119.5],[1747242000000,120],[1747328400000,119.4],[1747414800000,120.8],[1747501200000,118.5],[1747674000000,119.3],[1747760400000,119.3],[1747846800000,120.5],[1747933200000,121.3],[1748019600000,120],[1748106000000,121.5],[1748192400000,121],[1748278800000,120],[1748365200000,118.8],[1748451600000,118.3],[1748538000000,117.2],[1748624400000,119],[1748710800000,118.2],[1748883600000,118.5],[1748970000000,118],[1749142800000,117.7],[1749229200000,118],[1749315600000,117.2],[1749488400000,117.2],[1749574800000,118],[1749661200000,118.8],[1749747600000,118.8],[1749834000000,120.5],[1749920400000,120.3],[1750093200000,120.5],[1750179600000,119.3],[1750352400000,119.4],[1750525200000,119.7],[1750698000000,119.7],[1750784400000,119.7],[1750957200000,119.8],[1751043600000,119.7],[1751130000000,119.7],[1751302800000,119.5],[1751389200000,120.3],[1751475600000,120.7],[1751562000000,120.9],[1751648400000,120.9],[1751907600000,120.5],[1751994000000,121],[1752080400000,120.6],[1752166800000,120.8],[1752253200000,121],[1752339600000,121.5],[1752598800000,121.1],[1752685200000,120.6],[1752858000000,121],[1752944400000,121.2],[1753117200000,121.5],[1753203600000,122],[1753290000000,122.7],[1753376400000,122],[1753549200000,121.1],[1753808400000,121],[1753894800000,121.2],[1753981200000,121.2],[1754154000000,123.5],[1754326800000,123.3],[1754413200000,123.8],[1754499600000,123.8],[1754586000000,124.1],[1754672400000,124],[1754931600000,123.9],[1755018000000,123.9],[1755104400000,123.9],[1755190800000,124.7],[1755277200000,124.5],[1755536400000,124.7],[1755709200000,124.8],[1755795600000,125.4],[1755882000000,125.4],[1755968400000,126.6],[1756141200000,126.9],[1756227600000,127.7],[1756314000000,128],[1756400400000,128],[1756486800000,128.9],[1756573200000,130.6],[1756918800000,133.4],[1757005200000,133.9],[1757091600000,134.4],[1757178000000,135.4]
    ],
    tooltip: { valueDecimals: 2 },
    shadow: true,
  },
  {
    name: "Mua vào",
    data: [
      [1725901200000,78.5],[1725987600000,78.5],[1726074000000,78.5],[1726160400000,78.5],
      [1726246800000,78.5],[1726506000000,78.5],[1726592400000,80],[1726765200000,79.8],
      [1726851600000,80],[1726938000000,80],[1727110800000,80],[1727197200000,81.5],
      [1727283600000,81.5],[1727370000000,81.5],[1727456400000,81.5],[1727802000000,82],
      [1727888400000,82],[1727974800000,82],[1728061200000,82],[1728406800000,83],
      [1728493200000,83],[1728579600000,82.5],[1728666000000,82.5],[1728752400000,82.5],
      [1728838800000,82.5],[1728925200000,83],[1729011600000,83],[1729098000000,84],
      [1729184400000,84],[1729270800000,84],[1729357200000,84],[1729530000000,86],
      [1729616400000,87],[1729702800000,87],[1729789200000,87],[1729875600000,87],
      [1729962000000,87],[1730048400000,87],[1730134800000,87],[1730221200000,87],
      [1730307600000,87],[1730394000000,88],[1730480400000,87.5],[1730739600000,87],
      [1730826000000,87],[1730912400000,87],[1730998800000,85.5],[1731085200000,82],
      [1731171600000,82],[1731344400000,82],[1731430800000,80.6],[1731517200000,80.5],
      [1731603600000,80],[1731690000000,80],[1731776400000,80],[1731949200000,80.3],
      [1732035600000,81.7],[1732122000000,82.7],[1732208400000,83.7],[1732294800000,84.5],
      [1732381200000,85],[1732554000000,85],[1732640400000,82.8],[1732726800000,82.8],
      [1732813200000,83],[1732899600000,83.1],[1732986000000,83.3],[1733072400000,83.3],
      [1733158800000,82.8],[1733245200000,82.8],[1733331600000,83],[1733504400000,82.3],
      [1733763600000,82.7],[1733850000000,83.1],[1733936400000,84.6],[1734022800000,84.8],
      [1734109200000,83.9],[1734195600000,83.8],[1734368400000,82.6],[1734541200000,83.1],
      [1734627600000,81.9],[1734714000000,82.1],[1734800400000,81.8],[1734973200000,82.3],
      [1735059600000,82.3],[1735232400000,82.5],[1735318800000,82.7],[1735578000000,82.5],
      [1735664400000,82.5],[1735837200000,83.3],[1735923600000,84],[1736182800000,83.5],
      [1736269200000,83.8],[1736355600000,84],[1736442000000,84.5],[1736528400000,84.7],
      [1736614800000,84.8],[1736787600000,84.6],[1736874000000,84.4],[1736960400000,84.6],
      [1737046800000,85],[1737133200000,85.3],[1737219600000,84.9],[1737392400000,84.7],
      [1737478800000,85],[1737565200000,86],[1737651600000,86.4],[1737738000000,86.5],
      [1737824400000,86.8],[1738429200000,86.8],[1738602000000,86.8],[1738688400000,87.8],
      [1738774800000,88],[1738861200000,88.2],[1738947600000,86.5],[1739206800000,87.3],
      [1739293200000,89.8],[1739379600000,86.7],[1739466000000,87.4],[1739552400000,88.3],
      [1739638800000,87.3],[1739811600000,87.3],[1739898000000,88.3],[1739984400000,89.4],
      [1740070800000,89.8],[1740157200000,89.7],[1740243600000,89.4],[1740416400000,89.2],
      [1740502800000,90],[1740589200000,89.4],[1740675600000,89.2],[1740762000000,88.9],
      [1740848400000,88.3],[1741021200000,89],[1741107600000,89.6],[1741280400000,91],
      [1741366800000,90.9],[1741453200000,90.9],[1741626000000,91.1],[1741712400000,90.6],
      [1741798800000,91.6],[1741885200000,92.5],[1741971600000,94.1],[1742230800000,94.8],
      [1742317200000,95.4],[1742403600000,97.1],[1742490000000,98.6],[1742576400000,94.7],
      [1742662800000,94.7],[1742749200000,94.4],[1742835600000,94.4],[1742922000000,94.9],
      [1743008400000,96.5],[1743094800000,96.7],[1743181200000,98.2],[1743267600000,98.4],
      [1743440400000,98.7],[1743526800000,99.8],[1743613200000,99.1],[1743699600000,99.8],
      [1743786000000,99.4],[1743872400000,97.1],[1744131600000,96.5],[1744218000000,97.4],
      [1744304400000,100.4],[1744390800000,103.4],[1744477200000,102.9],[1744650000000,104.5],
      [1744736400000,105.2],[1744822800000,106.8],[1744909200000,115.5],[1744995600000,117],
      [1745082000000,117],[1745254800000,112],[1745341200000,119],[1745427600000,122],
      [1745514000000,118.5],[1745600400000,119.5],[1745686800000,118.5],[1745859600000,118.5],
      [1745946000000,118.8],[1746118800000,119.3],[1746205200000,119.3],[1746464400000,117.8],
      [1746550800000,120.8],[1746637200000,120.2],[1746723600000,120.7],[1746810000000,118],
      [1746896400000,120],[1747069200000,119],[1747155600000,117.5],[1747242000000,118],
      [1747328400000,117.4],[1747414800000,118.5],[1747501200000,115.5],[1747674000000,116.8],
      [1747760400000,116.8],[1747846800000,118],[1747933200000,119.3],[1748019600000,118],
      [1748106000000,119.5],[1748192400000,119],[1748278800000,117],[1748365200000,116.3],
      [1748451600000,115.8],[1748538000000,114.7],[1748624400000,116.5],[1748710800000,115.7],
      [1748883600000,116],[1748970000000,116],[1749142800000,115.4],[1749229200000,116],
      [1749315600000,114.9],[1749488400000,115.2],[1749574800000,116],[1749661200000,116.8],
      [1749747600000,116.8],[1749834000000,118.5],[1749920400000,117.8],[1750093200000,118.5],
      [1750179600000,117.3],[1750352400000,117.4],[1750525200000,117.7],[1750698000000,117.7],
      [1750784400000,117.7],[1750957200000,117.8],[1751043600000,117.7],[1751130000000,117.7],
      [1751302800000,117.5],[1751389200000,118.3],[1751475600000,118.7],[1751562000000,118.9],
      [1751648400000,118.9],[1751907600000,118.5],[1751994000000,119],[1752080400000,118.6],
      [1752166800000,118.8],[1752253200000,119],[1752339600000,119.5],[1752598800000,119.1],
      [1752685200000,118.6],[1752858000000,119.5],[1752944400000,119.7],[1753117200000,120],
      [1753203600000,120],[1753290000000,120.7],[1753376400000,120],[1753549200000,119.6],
      [1753808400000,119.5],[1753894800000,119.7],[1753981200000,119.7],[1754154000000,121.5],
      [1754326800000,121.7],[1754413200000,122.2],[1754499600000,122.4],[1754586000000,122.7],
      [1754672400000,122.6],[1754931600000,122.7],[1755018000000,122.7],[1755104400000,122.7],
      [1755190800000,123.5],[1755277200000,123.5],[1755536400000,123.7],[1755709200000,123.8],
      [1755795600000,124.4],[1755882000000,124.4],[1755968400000,125.6],[1756141200000,125.9],
      [1756227600000,126.1],[1756314000000,126],[1756400400000,126],[1756486800000,127.4],
      [1756573200000,129.1],[1756918800000,131.9],[1757005200000,132.4],[1757091600000,132.9],
      [1757178000000,133.9]
    ],
    tooltip: { valueDecimals: 2 },
    shadow: true,
  },
];



// TradingViewWidget.jsx
import React, { useEffect, useRef, memo } from 'react';

function TradingViewWidget() {
  const container = useRef();

  useEffect(
    () => {
      const script = document.createElement("script");
      script.src = "https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js";
      script.type = "text/javascript";
      script.async = true;
      script.innerHTML = `
        {
          "allow_symbol_change": true,
          "calendar": false,
          "details": false,
          "hide_side_toolbar": true,
          "hide_top_toolbar": false,
          "hide_legend": false,
          "hide_volume": false,
          "hotlist": false,
          "interval": "D",
          "locale": "vi_VN",
          "save_image": true,
          "style": "1",
          "symbol": "OANDA:XAUUSD",
          "theme": "light",
          "timezone": "Etc/UTC",
          "backgroundColor": "rgba(255, 255, 255, 1)",
          "gridColor": "rgba(156, 156, 156, 0.06)",
          "watchlist": [],
          "withdateranges": false,
          "compareSymbols": [],
          "studies": [],
          "autosize": true
        }`;
      container.current.appendChild(script);
    },
    []
  );

  return (
    <div className="tradingview-widget-container" ref={container} style={{ height: "100%", width: "100%" }}>
      <div className="tradingview-widget-container__widget" style={{ height: "calc(100% - 32px)", width: "100%" }}></div>
      <div className="tradingview-widget-copyright"><a href="https://vn.tradingview.com/symbols/OANDA-XAUUSD/?exchange=OANDA" rel="noopener nofollow" target="_blank"><span className="blue-text">Track all markets on TradingView</span></a></div>
    </div>
  );
}

export default memo(TradingViewWidget);

